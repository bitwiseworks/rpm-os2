.\" Automatically generated by Pandoc 2.9.2.1
.\"
.TH "RPMBUILD" "8" "9 czerwca 2002" "" ""
.hy
.SH NAZWA
.PP
rpmbuild - Budowanie pakiet\['o]w RPM
.SH SK\[/L]ADNIA
.SS BUDOWANIE PAKIET\['O]W:
.PP
\f[B]rpmbuild\f[R] {\f[B]-ba|-bb|-bp|-bc|-bi|-bl|-bs\f[R]}
[\f[B]opcje-rpmbuild\f[R]] \f[I]PLIK_SPEC ...\f[R]
.PP
\f[B]rpmbuild\f[R] {\f[B]-ta|-tb|-tp|-tc|-ti|-tl|-ts\f[R]}
[\f[B]opcje-rpmbuild\f[R]] \f[I]TARBALL ...\f[R]
.PP
\f[B]rpmbuild\f[R] {\f[B]--rebuild|--recompile\f[R]}
\f[I]PAKIET_\[u0179]R\['O]D\[/L]OWY ...\f[R]
.SS R\['O]\[u017B]NE:
.PP
\f[B]rpmbuild\f[R] \f[B]--showrc\f[R]
.SS opcje-rpmbuild
.PP
[\f[B]--buildroot \f[R]\f[I]KATALOG\f[R]] [\f[B]--clean\f[R]]
[\f[B]--nobuild\f[R]] [\f[B]--rmsource\f[R]] [\f[B]--rmspec\f[R]]
[\f[B]--short-circuit\f[R]] [\f[B]--sign\f[R]] [\f[B]--target
\f[R]\f[I]PLATFORMA\f[R]]
.SH OPIS
.PP
\f[B]rpmbuild\f[R] s\[/l]u\[u017C]y do budowania binarnych i
\[u017A]r\['o]d\[/l]owych pakiet\['o]w oprogramowania.
\f[B]Pakiet\f[R] sk\[/l]ada si\[u0119] z archiwum plik\['o]w oraz
metadanych u\[u017C]ywanych do instalowania i usuwania plik\['o]w.
Metadane zawieraj\[u0105] pomocnicze skrypty, atrybuty plik\['o]w oraz
informacje opisuj\[u0105]ce pakiet.
\f[B]Pakiety\f[R] wyst\[u0119]puj\[u0105] w dw\['o]ch wersjach:
pakietach binarnych, s\[/l]u\[u017C]\[u0105]cych do opakowania
oprogramowania do instalacji oraz pakietach \[u017A]r\['o]d\[/l]owych,
zawieraj\[u0105]cych kod \[u017A]r\['o]d\[/l]owy i przepis na zbudowanie
pakiet\['o]w binarnych.
.PP
Trzeba wybra\['c] jeden z nast\[u0119]puj\[u0105]cych podstawowych
tryb\['o]w: \f[B]Budowanie pakietu\f[R], \f[B]Budowanie pakietu z
tarballa\f[R], \f[B]Rekompilacja pakietu\f[R], \f[B]Wy\[u015B]wietlenie
konfiguracji\f[R].
.SS OPCJE OG\['O]LNE
.PP
Opcje te mog\[u0105] by\['c] u\[u017C]ywane we wszystkich trybach.
.TP
\f[B]-?\f[R], \f[B]--help\f[R]
Wypisuje informacj\[u0119] o u\[u017C]yciu d\[/l]u\[u017C]sz\[u0105]
ni\[u017C] zwykle.
.TP
\f[B]--version\f[R]
Wypisuje pojedyncz\[u0105] lini\[u0119], zawieraj\[u0105]c\[u0105] numer
wersji u\[u017C]ywanego \f[B]rpm\f[R]-a.
.TP
\f[B]--quiet\f[R]
Wypisuje jak najmniej - zazwyczaj tylko komunikaty o b\[/l]\[u0119]dach.
.TP
\f[B]-v\f[R]
Wypisuje szczeg\['o]\[/l]owe informacje - zwykle komunikaty o przebiegu
procesu.
.TP
\f[B]-vv\f[R]
Wypisuje du\[u017C]o brzydkich informacji diagnostycznych.
.TP
\f[B]--rcfile \f[R]\f[I]LISTA_PLIK\['O]W\f[R]
Ka\[u017C]dy z plik\['o]w w oddzielonej dwukropkami
\f[I]LI\[u015A]CIE_PLIK\['O]W\f[R] jest odczytywany kolejno przez
\f[B]rpm\f[R]-a w poszukiwaniu informacji o konfiguracji.
Istnie\['c] musi tylko pierwszy plik z listy, a tyldy s\[u0105]
zamieniane na warto\[u015B]\['c] \f[B]$HOME\f[R].
Domy\[u015B]ln\[u0105] \f[I]LIST\[u0104]_PLIK\['O]W\f[R] jest
\f[I]/usr/lib/rpm/rpmrc\f[R]:\f[I]/usr/lib/rpm/<vendor>/rpmrc\f[R]:\f[I]/etc/rpmrc\f[R]:\f[I]\[ti]/.rpmrc\f[R].
.TP
\f[B]--pipe \f[R]\f[I]KOMENDA\f[R]
Przekazuje potokiem wyj\[u015B]cie \f[B]rpm\f[R]-a do \f[I]KOMENDY\f[R].
.TP
\f[B]--dbpath \f[R]\f[I]KATALOG\f[R]
U\[u017C]ywa bazy danych z \f[I]KATALOGU\f[R] zamiast domy\[u015B]lnego
\f[I]/var/lib/rpm\f[R].
.TP
\f[B]--root \f[R]\f[I]KATALOG\f[R]
U\[u017C]ywa do wszystkich operacji systemu zakorzenionego w
\f[I]KATALOGU\f[R].
Zauwa\[u017C], \[u017C]e oznacza to, \[u017C]e baza danych w
\f[I]KATALOGU\f[R] b\[u0119]dzie u\[u017C]ywana przy sprawdzaniu
zale\[u017C]no\[u015B]ci, a wszystkie skrypty (np.
\f[B]%post\f[R] przy instalacji pakietu lub \f[B]%prep\f[R] przy
budowaniu pakietu) b\[u0119]d\[u0105] uruchamiane po chroot(2) na
\f[I]KATALOG\f[R].
.SS OPCJE BUDOWANIA
.PP
Og\['o]ln\[u0105] postaci\[u0105] komendy budowania rpm-a jest
.PP
\f[B]rpmbuild\f[R] \f[B]-b\f[R]\f[I]ETAP\f[R]\f[B]|-t\f[R]\f[I]ETAP\f[R]
[ ** opcje-rpmbuild** ] \f[I]PLIK ...\f[R]
.PP
Je\[u015B]li do zbudowania pakietu u\[u017C]ywany jest plik spec, to
argumentem powinno by\['c] \f[B]-b\f[R], a je\[u015B]li
\f[B]rpmbuild\f[R] powinien zajrze\['c] wewn\[u0105]trz (by\['c]
mo\[u017C]e skompresowanego) pliku tar w poszukiwaniu speca, to powinna
by\['c] u\[u017C]yta opcja \f[B]-t\f[R].
Po pierwszym argumencie, drugi znak (\f[I]ETAP\f[R]) okre\[u015B]la
etapy budowania i pakietowania, kt\['o]re nale\[u017C]y wykona\['c].
Mo\[u017C]e by\['c] jednym z:
.TP
\f[B]-ba\f[R]
Buduje pakiety binarny i \[u017A]r\['o]d\[/l]owy (po wykonaniu
etap\['o]w %prep, %build i %install).
.TP
\f[B]-bb\f[R]
Buduje pakiet binarny (po wykonaniu etap\['o]w %prep, %build i
%install).
.TP
\f[B]-bp\f[R]
Wykonuje etap \[dq]%prep\[dq] z pliku spec.
Zwykle obejmuje to rozpakowanie \[u017A]r\['o]de\[/l] i zaaplikowanie
wszelkich \[/l]at.
.TP
\f[B]-bc\f[R]
Wykonuje etap \[dq]%build\[dq] z pliku spec (po wykonaniu etapu %prep).
Og\['o]lnie obejmuje to odpowiednik \[dq]make\[dq].
.TP
\f[B]-bi\f[R]
Wykonuje etap \[dq]%install\[dq] z pliku spec (po wykonaniu etap\['o]w
%prep i %build).
Og\['o]lnie obejmuje to odpowiednik \[dq]make install\[dq].
.TP
\f[B]-bl\f[R]
Dokonuje sprawdzenia listy.
W sekcji \[dq]%files\[dq] pliku spec rozwijane s\[u0105] makra i
dokonywane s\[u0105] sprawdzenia, by upewni\['c] si\[u0119], \[u017C]e
ka\[u017C]dy plik istnieje.
.TP
\f[B]-bs\f[R]
Buduje tylko pakiet \[u017A]r\['o]d\[/l]owy.
.PP
Mog\[u0105] by\['c] te\[u017C] u\[u017C]yte nast\[u0119]puj\[u0105]ce
opcje:
.TP
\f[B]--buildroot \f[R]\f[I]KATALOG\f[R]
Na czas budowania pakietu zast\[u0119]puje warto\[u015B]\['c] BuildRoot
\f[I]KATALOGIEM\f[R].
.TP
\f[B]--clean\f[R]
Usuwa drzewo budowania po stworzeniu pakiet\['o]w.
.TP
\f[B]--nobuild\f[R]
Nie wykonuje \[u017C]adnych etap\['o]w budowania.
Przydatne do testowania plik\['o]w spec.
.TP
\f[B]--rmsource\f[R]
Usuwa \[u017A]r\['o]d\[/l]a po budowaniu (mo\[u017C]e by\['c] te\[u017C]
u\[u017C]ywane samodzielnie, np.
\[dq]\f[B]rpmbuild\f[R] \f[B]--rmsource foo.spec\f[R]\[dq]).
.TP
\f[B]--rmspec\f[R]
Usuwa plik spec po budowaniu (mo\[u017C]e by\['c] te\[u017C]
u\[u017C]ywane samodzielnie, np.
\[dq]\f[B]rpmbuild\f[R] \f[B]--rmspec foo.spec\f[R]\[dq]).
.TP
\f[B]--short-circuit\f[R]
Przechodzi wprost do podanego etapu (tzn.
pomija wszystkie etapy prowadz\[u0105]ce do podanego).
Prawid\[/l]owe tylko z \f[B]-bc\f[R] i \f[B]-bi\f[R].
.TP
\f[B]--sign\f[R]
Osadza w pakiecie sygnatur\[u0119] GPG.
Sygnatura ta mo\[u017C]e by\['c] u\[u017C]ywana do weryfikowania
integralno\[u015B]ci i pochodzenia pakietu.
Zobacz sekcj\[u0119] o SYGNATURACH GPG w \f[B]rpm\f[R](8), gdzie
znajduj\[u0105] si\[u0119] szczeg\['o]\[/l]y dotycz\[u0105]ce
konfiguracji.
.TP
\f[B]--target \f[R]\f[I]PLATFORMA\f[R]
Podczas budowania pakietu interpretuje \f[I]PLATFORM\[u0118]\f[R] jako
\f[B]arch-vendor-os\f[R] i ustawia odpowiednio makra \f[B]%_target\f[R],
\f[B]%_target_cpu\f[R] oraz \f[B]%_target_os\f[R].
.SS OPCJE PRZEBUDOWYWANIA I REKOMPILACJI
.PP
Istniej\[u0105] dwa inne sposoby na wywo\[/l]anie budowania przy
u\[u017C]yciu rpm-a:
.PP
\f[B]rpmbuild\f[R] \f[B]--rebuild|--recompile\f[R]
\f[I]PAKIET_\[u0179]R\['O]D\[/L]OWY ...\f[R]
.PP
Po takim wywo\[/l]aniu, \f[B]rpmbuild\f[R] instaluje podany pakiet
\[u017A]r\['o]d\[/l]owy oraz wykonuje etapy prep, kompilacji i
instalacji.
Dodatkowo, \f[B]--rebuild\f[R] buduje nowy pakiet binarny.
Po tym jak budowanie jest zako\[u0144]czone, katalog budowania jest
usuwany (jak przy \f[B]--clean\f[R]), a potem \[u017A]r\['o]d\[/l]a i
plik spec dla pakietu s\[u0105] usuwane.
.SS WY\[u015A]WIETLANIE KONFIGURACJI
.PP
Polecenie
.PP
\f[B]rpmbuild\f[R] \f[B]--showrc\f[R]
.PP
pokazuje warto\[u015B]ci, kt\['o]rych \f[B]rpmbuild\f[R] b\[u0119]dzie
u\[u017C]ywa\[/l] dla wszystkich opcji, kt\['o]re s\[u0105] aktualnie
ustawione w plikach konfiguracyjnych \f[I]rpmrc\f[R] oraz
\f[I]macros\f[R].
.SH PLIKI
.SS Konfiguracja rpmrc
.IP
.nf
\f[C]
/usr/lib/rpm/rpmrc
/usr/lib/rpm/<vendor>/rpmrc
/etc/rpmrc
\[ti]/.rpmrc
\f[R]
.fi
.SS Konfiguracja makr
.IP
.nf
\f[C]
/usr/lib/rpm/macros
/usr/lib/rpm/<vendor>/macros
/etc/rpm/macros
\[ti]/.rpmmacros
\f[R]
.fi
.SS Baza danych
.IP
.nf
\f[C]
/var/lib/rpm/Basenames
/var/lib/rpm/Conflictname
/var/lib/rpm/Dirnames
/var/lib/rpm/Filemd5s
/var/lib/rpm/Group
/var/lib/rpm/Installtid
/var/lib/rpm/Name
/var/lib/rpm/Packages
/var/lib/rpm/Providename
/var/lib/rpm/Provideversion
/var/lib/rpm/Pubkeys
/var/lib/rpm/Removed
/var/lib/rpm/Requirename
/var/lib/rpm/Requireversion
/var/lib/rpm/Sha1header
/var/lib/rpm/Sigmd5
/var/lib/rpm/Triggername
\f[R]
.fi
.SS Tymczasowe
.PP
\f[I]/var/tmp/rpm*\f[R]
.SH ZOBACZ TAK\[u017B]E
.IP
.nf
\f[C]
popt(3),
rpm2cpio(8),
gendiff(1),
rpm(8),
\f[R]
.fi
.PP
\f[B]http://www.rpm.org/ <URL:http://www.rpm.org/>\f[R]
.SH AUTORZY
.IP
.nf
\f[C]
Marc Ewing <marc\[at]redhat.com>
Jeff Johnson <jbj\[at]redhat.com>
Erik Troan <ewt\[at]redhat.com>
\f[R]
.fi
